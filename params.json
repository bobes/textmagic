{"name":"TextMagic","body":"# TextMagic\r\n\r\n`textmagic` gem is a Ruby interface to the [TextMagic](http://www.textmagic.com)\r\nBulk SMS Gateway.\r\nIt can be used to easily integrate SMS features into your application.\r\nIt supports sending messages, receiving replies and more. You need to have\r\na valid [TextMagic](http://www.textmagic.com) account to use this gem.\r\n\r\nTo learn more about the TextMagic Bulk SMS Gateway, visit the official\r\n[API documentation](http://api.textmagic.com)\r\nor [Google group](http://groups.google.com/group/textmagic-api).\r\n\r\nThis document will give you a good overview of the gem's functionality. For\r\nmore information consult the detailed [documentation](http://tuzinsky.com/textmagic/rdoc/).\r\n\r\n\r\n## Basic usage\r\n\r\nFirst create an API instance with your credentials:\r\n\r\n    api = TextMagic::API.new(username, password)\r\n\r\nThese credentials will be used in all requests to the SMS gateway.\r\n\r\n\r\n### Account balance\r\n\r\nCheck your account's balance:\r\n\r\n    api.account.balance\r\n    # => 314.15\r\n\r\n\r\n### Sending messages\r\n\r\nTo send a message to a single phone number, run:\r\n\r\n    api.send 'Hi Wilma!', '999314159265'\r\n\r\nYou can even specify multiple phone numbers:\r\n\r\n    api.send 'Hello everybody', '999314159265', '999271828182'\r\n\r\nUnicode messages are supported as well:\r\n\r\n    api.send 'Вильма Привет!', '999314159265'\r\n\r\nLong messages will be split to up to 3 parts. To limit maximum number\r\nof parts, specify an optional `max_length` parameter:\r\n\r\n    api.send 'Very very long message...', '999314159265', :max_length => 2\r\n\r\nIf you want to postpone message delivery, specify a `send_time` parameter:\r\n\r\n    api.send 'Two hours later', '999314159265', :send_time => Time.now.to_i + 7200\r\n\r\n\r\n### Checking sent message status\r\n\r\nIf you want to check sent message status, you have to use `message_id`\r\nreturned in response to `send` command.\r\n\r\n    api.send('Hi Wilma!', '999314159265')\r\n    # => '141421'\r\n    status = api.message_status('141421')\r\n    # => 'd'\r\n    status.completed_time\r\n    # => Fri May 22 10:10:18 +0200 2009\r\n\r\nYou can also check statuses of several messages at once, in which case\r\nyou'll get a hash with message ids as keys:\r\n\r\n    api.send('Hi Wilma!', '999314159265', '999271828182').message_id\r\n    # => { '999314159265' => '141421', '999271828182' => '173205' }\r\n    statuses = api.message_status('141421', '173205')\r\n    # => { '141421' => 'r', '173205' => 'd' }\r\n    statuses['173205'].created_time\r\n    # => Thu May 28 16:41:45 +0200 2009\r\n\r\n**It is strongly recommended to setup callbacks to receive updates on message status\r\ninstead of using this method. Learn more about callbacks at\r\n[TextMagic API](http://api.textmagic.com/https-api) site**\r\n\r\n\r\n### Receiving replies\r\n\r\nTo receive all available replies, run:\r\n\r\n    replies = api.receive\r\n    # => ['999271828182: Hello Fred!', '999314159265: Good day!']\r\n    replies.first.text\r\n    # => 'Hello Fred!'\r\n    replies.last.from\r\n    # => '999314159265'\r\n    replies.last.message_id\r\n    # => '178082'\r\n\r\nTo prevent receiving old replies again, supply `last_retrieved_id` argument:\r\n\r\n    api.receive('178082')\r\n    # => []\r\n\r\n**It is strongly recommended to setup callbacks to receive replies instead of\r\nusing this method. Learn more about callbacks at\r\n[TextMagic API](http://api.textmagic.com/https-api) site**\r\n\r\n\r\n### Deleting retrieved replies\r\n\r\nAfter you retrieve replies, you can delete them from server by running:\r\n\r\n    api.delete_reply '141421', '178082'\r\n    # => true\r\n\r\n\r\n## Command-line utility\r\n\r\nThe `textmagic` gem also features a handy command-line utility. It gives you access\r\nto all of the gem's features. Run\r\n\r\n    tm\r\n\r\nfrom your console to see help on its usage.\r\n\r\n*Note: This has only been tested on a Mac with Ruby 1.8.7 and 1.9.1. If you have any troubles using this gem, contact the author (or submit a patch).*\r\n\r\n\r\n## Copyright\r\n\r\nCopyright (c) 2009-2012 Vladimír Bobeš Tužinský. See LICENSE for details.\r\n","tagline":"Ruby interface to the TextMagic Bulk SMS Gateway","google":"UA-1584061-7","note":"Don't delete this file! It's used internally to help with page regeneration."}